# para .profile como para .zprofile
# Define environment variables
export LC_ALL="es_ES.UTF-8"
export LANG="es_ES.UTF-8"
export LANGUAGE="es_ES.UTF-8"
export EDITOR="nvim"
export VISUAL="nvim"
export PAGER="less"
export HISTSIZE=10000
export HISTFILESIZE=10000
export HISTCONTROL=ignoreboth
export KEYTIMEOUT=1 # make switching between modes faster
export XDG_CONFIG_HOME="$HOME/.config"

# Iniciar ssh-agent solo si no hay uno ya en ejecución
if ! pgrep -u "$USER" ssh-agent >/dev/null 2>&1; then
  eval "$(ssh-agent -s)"
fi

# Auto-start display server if logging in on TTY1
if [[ -z "$DISPLAY" ]] && [[ -z "$WAYLAND_DISPLAY" ]] && [[ $(tty) = /dev/tty1 ]]; then
  # Detectar Wayland e iniciar sway
  if command -v sway >/dev/null ; then
    exec sway
  # Detectar X11 e iniciar i3 
  elif command -v startx >/dev/null ; then
    exec startx
  else
    echo "No se encontró ni sway ni i3"
  fi
fi
